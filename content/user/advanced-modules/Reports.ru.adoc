---
Title: Отчёты
Weight: 265
---

:author: likhobory
:email: likhobory@mail.ru

:toc:
:toc-title: Оглавление
:toclevels: 3

:experimental:   

:imagesdir: /images/ru/user/advanced-modules/Reports

ifdef::env-github[:imagesdir: ./../../../../master/static/images/ru/user/advanced-modules/Reports]

:btn: btn:

ifdef::env-github[:btn:]


= Отчёты


Данный модуль позволяет быстро представить данные системы в виде соответствующих отчётов и/или диаграмм. Отчёты могут получены как вручную, так и автоматически, по заранее составленному расписанию, с последующей отправкой данных указанным получателям по электронной почте. 
 
== Создание отчёта 

 .	В меню модуля выберите пункт *Создать отчёт*.
 .	Заполните основную информацию:
 
Отчёт:: Название создаваемого отчёта.
Ответственный(ая):: Введите имя сотрудника, ответственного за данный отчёт. Чтобы выбрать пользователя, нажмите кнопку и выберите необходимого пользователя из списка. По умолчанию ответственным являетесь вы. 
Диаграмм в строке отчёта:: Если данные отчёта предполагается отображать в виде диаграмм, то укажите максимальное количество диаграмм, которое будет отображаться на каждой строке в выводимом отчёте и при печати данных в виде PDF-документа.
Модуль:: Выберите модуль, в рамках которого будет создаваться отчёт. После выбора данного параметра в левой части страницы станут доступны два списка: в верхнем списке -  модули системы, в нижнем – перечень всех полей выбранного модуля.

image:image1.png[Создание отчёта]

=== Добавление полей

Для добавления данных, на основе которых будет строиться отчёт, выберите в верхнем списке необходимый модуль, в нижнем списке необходимое поле и переместите его в область *Поля*. В данном примере в отчёт добавлено поле *Тип* из модуля *Контрагенты*:

image:image2.png[Добавление полей]

После добавления поля в отчёт его можно настроить при помощи следующих параметров:

Отображать в отчёте:: Вы можете определить, есть ли необходимость в отображении текущего поля – поле может быть добавлено с целью выполнения сортировки, группировки и т.д. и его отображение может не потребоваться.
Поле кликабельно:: При нажатии на поле в отображаемом отчёте откроется Форма просмотра соответствующей записи.
Название:: По умолчанию столбцы отчёта называются так же как и соответствующие поля при его формировании. При необходимости название столбца может быть изменено на желаемое. 
Функция:: Параметр позволяет выполнить над буквенно-цифровым полем определённые вычисления. Поддерживаются следующие функции: КОЛИЧЕСТВО, МИНИМУМ, МАКСИМУМ, СУММА, СРЕДНЕЕ. Пример использования описан ниже.
Сортировка:: Возможность сортировки данных в столбце отчёта в восходящем или нисходящем порядке. Сортировка допустима для всех типов полей.
Группировка:: Возможность группировки данных по текущему полю. К сгруппированным данным может быть применена одна из доступных математических функций. В примере, описанном ниже, все контрагенты группируются по ТИПУ контрагента и в каждой группе определяется КОЛИЧЕСТВО записей. Если группировка производится по нескольким полям, то в отчёте можно указать основную группу, выбрав её из комбобокса.
Формат даты:: Если добавляемое в отчёт поле содержит дату/время, то при помощи данного параметра можно выбрать формат отображаемой в конечном отчёте даты.
Итоговая строка:: Параметр работает с полями, содержащими цифровые значения и позволяет вычислить итоговые значения: КОЛИЧЕСТВО, СУММУ и СРЕДНЕЕ. В примере, описанном ниже, определяется общая сумма записей из отображаемых в отчёте групп контрагентов.
 
В данном тестовом примере отчёт состоит из 2 столбцов: 

image:image3.png[Тестовый пример-1]

В первом столбце отображаются Контрагенты, сгруппированные по полю *Тип*. Во втором столбце показано КОЛИЧЕСТВО записей в каждой группе. В итоговой строке показана общая сумма всех записей: 

image:image4.png[Тестовый пример-2]
 
=== Добавление условий

Для добавления условий в отчёт нажмите на кнопку {btn}[Условия] и переместите желаемые поля в область конструктора условий. Перечень параметров, который можно настроить для поля, зависит от типа добавляемого в условия поля. Детальная информация о доступных параметрах описана в разделе 
link:../workflow/#_Условия_выполнения_процесса[Условия выполнения процесса]. 

На примере предыдущего рисунка добавим в отчёт следующие условия:

*	Отображать в отчёте контрагентов с типом *Клиент*, добавленных в систему на этой неделе
*	Отображать в этом же отчёте остальные типы контрагентов, но добавленные в этом месяце

Перечень добавленных условий будет выглядеть следующим образом:

image:image5.png[Добавление условий]

В данном примере используются скобки, позволяющие группировать необходимые условия с использованием операторов *И* и *ИЛИ*. Для вставки скобок нажмите на соответствующую кнопку в верхней части конструктора условий, и, удерживая её, переместите указатель в желаемую позицию.

[cols="1,2",options="!header",frame="none",grid="none"]
|===
a|image:image6.png[Изменяемый параметр]
|{{% notice note %}}
Каждое условие оканчивается опцией *Изменяемый параметр*. 
Если опция отмечена, то условия отчёта, и, соответственно, отображаемый результат можно быстро менять непосредственно в Форме просмотра отчёта.
{{% /notice %}}
|===

=== Добавление диаграмм 

При необходимости отчёт может быть представлен не только в табличном, но и в более наглядном графическом виде. SuiteCRM поддерживает несколько типов диаграмм, в том числе: гистограммы, графики, круговые и лепестковые диаграммы.
 
Для добавления диаграмм в отчёт нажмите на кнопку {btn}[Диаграммы], после чего нажмите на кнопку {btn}[Добавить диаграмму].

После выбора типа диаграммы необходимо указать следующие параметры:

*	Название: заголовок, отображаемый в верхней части диаграммы. Этот параметр необязателен, но если диаграмму планируется отображать в дашлете (см. ниже), то его рекомендуется заполнить – это упростит выбор нужной диаграммы при настройке дашлета. 
*	Тип: выберите один из способов графического представления данных. 
*	Ось Х: выберите колонку, которая будет отображаться на оси абсцисс. 
*	Ось Y: выберите колонку, которая будет отображаться на оси ординат. 

Например, для рассмотренного выше отчёта добавим 4 типа диаграмм:

image:image7.png[Добавление диаграмм]

После сохранения графическая часть отчёта может выглядеть следующим образом:

image:image8.png[Добавление диаграмм-графики]

В приведённом выше примере для создания отчёта использовались данные лишь одного модуля. При необходимости можно создавать более сложные отчёты, добавляя в них связанные между собой записи из различных модулей.

== Отображение отчётов в дашлетах

Напомним, что на основной закладке SuiteCRM может отображаться несколько аналогичных 
link:../../introduction/user-interface/home-page/#_Управление_дашлетами[дашлетов] в различной конфигурации, что позволяет отобразить множество отчётов с различными диаграммами.
 
Для добавления дашлета перейдите на основную закладку SuiteCRM,  в меню *Действия* нажмите на кнопку {btn}[Добавить дашлет] и выберите дашлет *Отчёты*. 

image:image9.png[Отображение отчётов в дашлетах]

После этого выберите отчёт, который необходимо отобразить в дашлете. Для настройки параметров дашлета нажмите на соответствующий значок в заголовке дашлета. 

image:image10.png[Настройка дашлета отчёта]

Для настройки доступны следующие параметры:

Заголовок:: Можно ввести свой заголовок дашлета или оставить предлагаемый по умолчанию. 
Отчёт:: Выберите отчёт, который будет отображаться в дашлете.
Отображать только диаграммы:: В дашлете будет видна только диаграмма, без отображения табличной части отчёта. 
Диаграммы:: Выберите диаграммы, которые будут отображаться в дашлете. Если диаграмме при создании отчёта было присвоено название, то именно оно будет отображаться в списке, в противном случае будет отображён порядковый номер диаграммы, например: *Без названия #4*. При необходимости вы можете изменить название диаграмм, отредактировав соответствующий отчёт. 


== Отчёты по расписанию

Для отслеживания регулярно изменяющихся данных можно запланировать автоматическое создание отчёта в назначенное время, с последующей его отправкой на указанные электронные адреса. Создать отчёт по расписанию можно как из соответствующего модуля, так и из субпанели уже существующего отчёта.

image:image11.png[Отчёты по расписанию]

При создании отчёта по расписанию заполните следующие параметры:

Отчёт по расписанию:: Укажите название отчёта
Статус:: Укажите статус отчёта. Неактивные отчёты рассылаться не будут.
Отчёт:: Укажите отчёт, на основе правил которого будет создаваться отчёт по расписанию
Расписание:: Укажите время и периодичность рассылки отчёта. Данные могут рассылаться ежедневно, еженедельно или ежемесячно. При необходимости расписание можно указать в link:https://ru.wikipedia.org/wiki/Cron#crontab[crontab^]-нотации.
Получатели:: Укажите электронные адреса, на которые будет осуществляться рассылка. Можно указать произвольный адрес, пользователя системы, Группу пользователей или пользователей Роли на адреса которых будут отправлены данные. Детальная информация о Ролях и Группах пользователей описана в разделе 
link:../../../admin/administration-panel/users/#_Роли_и_группы_пользователей[Роли и группы пользователей]. 
Описание:: Краткое описание отчёта.
 Вы всегда можете посмотреть время последнего запуска отчёта, просмотрев субпанель *Отчёт по расписанию* соответствующего отчёта. 

== Управление информацией об отчётах

В модуле вы можете выполнять следующие действия:

*	Сортировка списка записей, для этого нажмите на значок   в заголовке сортируемого столбца, для обратной сортировки нажмите на значок ещё раз. 
*	Добавление записи в избранное –  после чего пользователь получает возможность быстрого доступа к наиболее важной для него информации. За дополнительной информацией  обратитесь к разделу link:../../introduction/user-interface/navigation-elements/#_Избранное[Избранное]. 
*	Редактирование или удаление информации сразу о нескольких отчётах,  для этого используйте link:../../introduction/user-interface/record-management/#_Массовое_обновление_записей[панель массового обновления].
*	link:../../introduction/user-interface/record-management/#_Экспорт_данных[Экспорт] записей, для этого в меню над выбранными записями выберите пункт *Экспортировать*.
*	Сохранить в PDF, для этого в меню действий Формы просмотра отчёта выберите аналогичный пункт.
*	Просмотр детальной информации об отчёте, для этого нажмите на названии отчёта в общем списке.
*	Редактирование данных, для этого  либо в Форме просмотра нажмите на кнопку {btn}[Править], либо непосредственно в Форме списка нажмите на кнопку   слева от редактируемой записи. Вы также можете выполнить link:../../introduction/user-interface/in-line-editing/[быструю правку].
*	Дублирование информации об отчёте, для этого в меню действий выберите пункт {btn}[Дублировать]. Дублирование является удобным способом быстрого создания схожих записей, вы можете изменить продублированную информацию с целью создания нового отчёта.
*	Удаление отчёта, для этого нажмите на кнопку {btn}[Удалить]. 
*	Отслеживание изменений введённой информации, для этого нажмите на кнопку {btn}[Просмотр журнала изменений] в форме просмотра. Если в журнале необходимо изменить перечень контролируемых полей - сделайте это в Студии, настроив параметр link:../../../admin/administration-panel/developer-tools/#Audit[*Аудит*] соответствующего поля. 
